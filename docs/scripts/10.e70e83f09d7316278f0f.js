(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{EQ3G:function(e,t,_){},OsU7:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"init_render",function(){return init_render});var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2B1R"),core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("+2oP"),core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_object_freeze__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("3KgV"),core_js_modules_es_object_freeze__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_object_freeze__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("07d7"),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("5s+n"),core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("FZtP"),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_5__),_styles_editorialfloor_dataeditor_css__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("EQ3G"),_styles_editorialfloor_dataeditor_css__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_styles_editorialfloor_dataeditor_css__WEBPACK_IMPORTED_MODULE_6__),lit_html__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("AaG5"),moment__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("wd/R"),moment__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_8__);function _templateObject6(){var e=_taggedTemplateLiteral(["\n            <textarea>\n            </textarea>\n            "]);return _templateObject6=function(){return e},e}function _templateObject5(){var e=_taggedTemplateLiteral(['\n                <li banana-id="','" banana-json="','">\n                    <p class="title">','</p>\n                    <p banana-ts="','" class="ts"></p>\n                    <p class="objectid">',"</p>\n                </li>\n            "]);return _templateObject5=function(){return e},e}function _templateObject4(){var e=_taggedTemplateLiteral(["\n                <li>","</li>\n            "]);return _templateObject4=function(){return e},e}function _templateObject3(){var e=_taggedTemplateLiteral(['\n        <div class="data-group" banana-month="','">\n            <ul class="cluster-themes">\n            ','\n            </ul>\n            <ul class="cluster-articles" banana-json="','">\n            ','\n            </ul>\n            <div class="cluster-customfields">\n                <input type="text" class="field-header" placeholder="header" />\n                <input type="text" class="field-msg" placeholder="additional messages" />\n                <input type="text" class="field-pickedid" placeholder="an object id of picked tweet section" />\n                <input type="text" class="field-image" placeholder="image (optional)" />\n                <input type="text" class="field-imagecopy" placeholder="image copyright info (optional)" />\n            </div>\n        </div>\n        ']);return _templateObject3=function(){return e},e}function _templateObject2(){var e=_taggedTemplateLiteral(['\n        <div class="data-keyfield">\n            <input type="text" placeholder="dataset key for itemid" />\n        </div>\n        ',"\n        "]);return _templateObject2=function(){return e},e}function _templateObject(){var e=_taggedTemplateLiteral(['\n    <div class="editorial-prepare">\n        <div class="editorial-herotext">\n            <p class="hero1">Editorial /monthlycluster</p>\n            <p class="hero1">(edit monthlycluster dataset file)</p>\n            <p class="hero2">Type an appropriate dataset path to initiate process</p>\n            <div class="editorial-pathfield">\n                <input type="text" placeholder="dataset path..." />\n            </div>\n        </div>\n    </div>\n    <div class="editorial-analysis-console">\n        <div class="analysis-console-renderer"></div>\n        <div class="analysis-console-preview"></div>\n    </div>\n    <div class="analysis-console-finish">\n        <div class="icon"></div>\n    </div>\n    ']);return _templateObject=function(){return e},e}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function init_render(){document.body.classList.add("editorial");Object(lit_html__WEBPACK_IMPORTED_MODULE_7__.b)(Object(lit_html__WEBPACK_IMPORTED_MODULE_7__.a)(_templateObject()),document.querySelector(".minion-contents")),generate_data()}var render_data=function render_data(path){var dataset_d=null,dataset_url;dataset_url="//thisisallabout.com/analysis_assets/"+path+".json",document.querySelector(".minion-dataload").setAttribute("status","dl_d_1"),fetch(dataset_url).then(function(e){return e.text()}).then(function(text){var module=eval(text);dataset_d=module;var data_markup=function(){return Object(lit_html__WEBPACK_IMPORTED_MODULE_7__.a)(_templateObject2(),dataset_d.map(function(e){return Object(lit_html__WEBPACK_IMPORTED_MODULE_7__.a)(_templateObject3(),e.month,e.theme.map(function(e){return Object(lit_html__WEBPACK_IMPORTED_MODULE_7__.a)(_templateObject4(),e)}),JSON.stringify(e.articles),e.articles.map(function(e,t){return Object(lit_html__WEBPACK_IMPORTED_MODULE_7__.a)(_templateObject5(),e.twitterid,JSON.stringify(e),e.title,e.ts,e.twitterid)}))}))};document.querySelector(".minion-dataload").setAttribute("status","dl_d_0"),Object(lit_html__WEBPACK_IMPORTED_MODULE_7__.b)(data_markup(),document.querySelector(".analysis-console-renderer")),attach_events()})},attach_events=function(){Array.prototype.forEach.call(document.querySelectorAll(".cluster-articles .ts"),function(e,t,_){var a=e.getAttribute("banana-ts"),r=moment__WEBPACK_IMPORTED_MODULE_8___default.a.unix(a).format("MMMM Do YYYY hh:mm");e.innerHTML=r});for(var e=document.querySelectorAll(".cluster-articles li"),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){this.classList.contains("selected")?this.classList.remove("selected"):this.classList.add("selected")});var _=document.querySelectorAll(".cluster-themes li");for(t=0;t<_.length;t++)_[t].addEventListener("click",function(e){this.classList.contains("selected")?this.classList.remove("selected"):this.classList.add("selected")})},generate_data=function(){document.querySelector(".analysis-console-finish").addEventListener("click",function(e){if(this.classList.contains("initiated")||this.classList.contains("previewed")){if(this.classList.contains("initiated")&&!this.classList.contains("previewed")){var t=[];if(""==document.querySelector(".data-keyfield input").value)return void alert("Please provide appropriate key for itemid!");Array.prototype.forEach.call(document.querySelectorAll(".analysis-console-renderer .data-group"),function(e,_,a){var r={};r.month=e.getAttribute("banana-month");var l=[];if(Array.prototype.forEach.call(e.querySelectorAll(".cluster-articles li.selected"),function(e,t,_){var a=e.getAttribute("banana-json");l.push(JSON.parse(a))}),r.articles=l,""!=e.querySelector(".cluster-customfields .field-pickedid").value){var i=[];Array.prototype.forEach.call(e.querySelectorAll(".cluster-articles li.selected"),function(t,_,a){if(e.querySelector(".cluster-customfields .field-pickedid").value==t.getAttribute("banana-id")){var l=t.getAttribute("banana-json");i.push(JSON.parse(l)),r.picked=i}})}var s=[];Array.prototype.forEach.call(e.querySelectorAll(".cluster-themes li.selected"),function(e,t,_){s.push(e.innerHTML)}),r.theme=s,""!=e.querySelector(".cluster-customfields .field-header").value&&(r.header=e.querySelector(".cluster-customfields .field-header").value),""!=e.querySelector(".cluster-customfields .field-msg").value&&(r.msg=e.querySelector(".cluster-customfields .field-msg").value),""!=e.querySelector(".cluster-customfields .field-image").value&&(r.image=e.querySelector(".cluster-customfields .field-image").value),""!=e.querySelector(".cluster-customfields .field-imagecopy").value&&(r["image-copyright"]=e.querySelector(".cluster-customfields .field-imagecopy").value);var c=_;_<10&&(c="0"+_),r.id=document.querySelector(".data-keyfield input").value+"c"+c,t.push(r)});var _="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t)),a=document.createElement("a");a.setAttribute("href",_),a.setAttribute("download",document.querySelector(".editorial-pathfield input").value+".json"),a.click(),a.remove()}}else""!=document.querySelector(".editorial-pathfield input").value?(render_data(document.querySelector(".editorial-pathfield input").value),this.classList.add("initiated")):alert("Please provide dataset path first to proceed")})}}}]);